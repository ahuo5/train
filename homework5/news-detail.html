<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="./libs/scrollReveal/scrollreveal.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"></script>
  <script src="./libs/vue/vue.js"></script>
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css" />
  <link rel="stylesheet" href="./libs/glide/glide.core.min.css" />
  <link rel="stylesheet" href="./libs/glide/glide.theme.min.css" />
  <link rel="stylesheet" href="style.css" />
  <title>葫芦兄弟</title>
</head>

<body>
  <div id="app">
    <header class="sticky">
      <div class="logo">葫芦兄弟</div>
      <nav>
        <a href="./index.html">首页</a>
        <a href="./about.html">关于我们</a>
        <a href="./news.html">公司动态</a>
        <i class="fas fa-search"></i>
      </nav>
      <div class="burger">
        <div class="burger-line1"></div>
        <div class="burger-line2"></div>
        <div class="burger-line3"></div>
      </div>
    </header>

    <div class="content-wrapper">
      <section class="company-activities-det">
        <div class="activities-det">
          <div class="activity-det">
            <div class="act-image-wrapper-det">
              <img :src="'https://mjuruankai.com'+article.cover_image" alt="" />
            </div>
            <h2 class="act-title-det">{{article.title}}</h2>
            <div class="meta-det">
              <p class="data-published-det">
                <i class="far fa-calendar"></i>
                {{
                    new Date(article.date_created).getFullYear() +
                      "-" +
                      (new Date(article.date_created).getMonth() + 1) +
                      "-" +
                      new Date(article.date_created).getDate()
                  }}
              </p>
              <p class="comments-det"><i class="far fa-comments"></i> 33条评论</p>
            </div>
            <article v-html="article.content">
            </article>
          </div>
        </div>
      </section>
    </div>
    <footer>
      <div class="footer-menus">
        <div class="contact-us">
          <p class="menu-title">call我们</p>
          <p>地址：中国福建省福州市葫芦俱乐部</p>
          <p>电话：13666666666</p>
          <p>电子邮箱：1366666666@qq.com</p>
        </div>
        <div class="service-menu footer-menu">
          <p class="menu-title">提供工具</p>
          <ul class="menu-items">
            <li><a href="#">一瓶假酒</a></li>
            <li><a href="#">一张破网</a></li>
          </ul>
        </div>
        <div class="service-menu footer-menu">
          <p class="menu-title">公司近况</p>
          <ul class="menu-items">
            <li><a href="#">入不敷出</a></li>
            <li><a href="#">财政困难</a></li>
            <li><a href="#">急需人才</a></li>
          </ul>
        </div>
        <div class="service-menu footer-menu">
          <p class="menu-title">公司标语</p>
          <ul class="menu-items">
            <li><a href="#">i'm 抓葫芦</a></li>
            <li><a href="#">i'm 抓不着</a></li>
            <li><a href="#">i'm 坚持抓</a></li>
            <li><a href="#">i'm 能成功</a></li>
          </ul>
        </div>
        <p class="icp-info">有我无敌</p>
        <p class="rights">
          &copy; 我们志在必得
        </p>
        <div class="scrollToTop">
          <a href="#home"><i class="fas fa-chevron-up"></i></a>
        </div>
      </div>
    </footer>
  </div>
  <script>
    new Vue({
      el: '#app',
      data() {
        return {
          article: ""
        }
      },
      created() {
        this.getArticle()
      },
      methods: {
        async getArticle() {
          const id = this.getQueryVariable('id')
          const res = await axios.get(`https://mjuruankai.com/api/web/article_by_id/?id=${id}`);
          this.article = res.data.list[0].fields
          this.article.content = this.article.content.replace(/\/images/g, "https://mjuruankai.com/images/")
        },
        getQueryVariable(variable) {
          var query = window.location.search.substring(1);
          var vars = query.split("&");
          for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split("=");
            if (pair[0] == variable) {
              return pair[1];
            }
          }
          return false;
        }
      }
    })
  </script>
  <script src="./libs/isotope/isotope.pkgd.min.js"></script>
  <script src="./libs/anime/anime.min.js"></script>
  <script src="./libs/glide/glide.min.js"></script>
  <script src="./libs/smooth-scroll/smooth-scroll.polyfills.min.js"></script>
  <script src="./news.js"></script>
</body>

</html>